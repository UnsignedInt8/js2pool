require('../nodejs/AsyncSocket');
import * as assert from 'assert';
import * as kinq from 'kinq';
import BufferWriter from "../misc/BufferWriter";
import Node from "../p2pool/p2p/Node";
import { BaseShare } from "../p2pool/p2p/shares/index";
import { Shares } from "../p2pool/p2p/Messages/Shares";
import SHA256 from "../core/SHA256";
import * as fs from 'fs';
import * as crypto from 'crypto';
import { HashLink } from "../p2pool/p2p/shares/HashLink";
import * as Utils from '../misc/Utils';
import * as BigNum from 'bignum';
import Bitcoin from "../p2pool/p2p/coins/Bitcoin";
import { Peer } from "../p2pool/p2p/Peer";
import winston from '../misc/Logger';

kinq.enable();

async function test() {

    let peer = new Node();
    peer.onVersionVerified(async (sender, version) => {
        assert.equal(sender, peer);
        assert.equal(version.subVersion.startsWith('15.0'), true);
        console.log(version);
        await peer.sendGetaddrsAsync(10);

    });
    peer.onAddrs((sender, addrs) => {
        console.log(addrs);
    })
    await peer.connectAsync('123.163.48.115', 9333);
    await peer.sendVersionAsync();

}

// test();

var raw = '0110fd6419fe00000020b11d2466e2b26b8fe380d775a625cbdbaf89b461ca78e400000000000000000042c4ed585a330218b14aa281631bbd3806d0b712386d8aceb03c840933d953950d12dfba83000000000000003103e30a072cfabe6d6d3c6eacc9f783b5bb9ae46a6244b687f4d2bf9c2ba4a914e0f86b4c7d0dab4207080000000000000079bb4ff2194280d64cdc87135b35a900f3f96eea2a12d933e73b2d4d000000004200001094752e6ea6cc5200e711a094e069e419870a52fbe2ae638bcf76b58b18d63ed1937c2aca9af7f2ec160d4f2c9f23bae5d3599923ae8b3d1fbb815199a62b3a7a779f504d85829fe81cefb3ee9859ca0af1892ad4a9a749703bda19cf0116fa0365a7df9089a18ad62bc7b4b3e2ae19ec27c5ccf05c1625bb79164d447e92a27f5cd74d38606dead249b56c47cb020ee3d6607335446f490ec76ce5e9ebfa9883024b9c166e91f5149f6c9a123c3de21b6ad4231b7995f1f8cb2763749a9d674b06cdb219f7a421584aa8b43eb7f6bce7249dfb4fbc360ed394b65e637890e824f550359f8ca87f99b425fef1b18af62cf50da0331f571d42b51092ce3d55f5499a019887c21c583f44fe8c741f877a5b5ab03799f8d9d4c12dfb350e845787ea3493388dc2240206013a6f0a82f53385874f2079cb0e3c8161120b8d8d5e0009943f11da006c33a7169924acc3b3a5e84dbc0bd618fc3b63aa90b4a727afc8ce353fd3fce2748947911de26e84dba7be38b6e3011816c973053910824104d157b559d51dafd10bb75e1e59feaa41333224c21d1f4be4ef9746b2cb738975b28cf7daa1e6a275488891748c13f532f9a921a9dcc9e16832dcbe2657f62fd540302d42fd6b0b957b35a02136385a14873f38ca7a6b8b512aa74a4a66167983bce5c01ef410f863b3893f12de74299f6a39be549cc83280fa90618a3d046b246ae580b9908667339d0f2afde1208ad9f439013821ede93316167cdbf2840be23931d9bc64897cd553afaa9209784f75134908b35f276eceba0f8e79ac9e981b04575aed90ab2a8415b6c16b12ea0e0f0fc4fd43f85a6642e40c8056491bdc9a2f0932b9129fa722482717864e388c7e270f5e4ffd94267c2d7fa2b25bf3fe32d08d9bf7359912192ae9190956617178f2811897d3bf55578c8af0d065769fe74c2b114f81f60003affc8889ed070898aaf59b22d5734f673bbb5578f292587a56fd30b21ef82bea1b0ca2eefb65faeff68768d191ff0d4b242508862ed82080534f39daedc5b1a997e34f8b41d9b33914e69b39dd61b59a9ea17a10cd4369130fcb3d80ceb67aafd9a7137b23231181e61212c8b2d89e937826148ab0e9cc80b15ea4985d2ae4af5028a7a0c2a15f95b6b7e004368b8055ef449fa89fac14c010bee4ee9547df4ade033569ddc45351e2d86c95a43a39176af60f9984c324a686eeef65d525bd70d62fd58150239f3717ef85cf087561b5d3502f817be8231866683551bad04857452e17fc759446668a7d7839ac4763765174009f8137653c9f1015ef4960c48a334663af7fe1df9990e8a6e7d56b937191016852753c28ee730c6d7157279a0cb4f2945110de78c8b1a771453e1dac816d78c5f0b54c9200275709cc768655bd36a2c6ea90a38cd1e181db2fed83abcd8a158fd0857013de50d16a94070c9b57d5e126312c67e44a65010040c64b5c6612db7e1563f44a1959d41bd4b8e9fbd337f7155d25d164ef81c5e727c9949237dfd5740e418523a0e2fe3c556c94485d83fdbc5979baee59bf79abe3c5da0911f5e1b4c343ee3dfd492e16e1d9dac5937f2fedecbe2f301604861515b72aba217eb62056d9a5b0ae8b9651b0b69add6f38873aef63b7c417c070a0787f7a227d75677871068aa8d41d3dfc7238f98be6d8df68b1d28499530ef6ca641cbfacaa92cf8960069e45cc40f426ed3e045571089d261a13deac0de7d7630d82a3e57d815edace37f7cecbe96d3936a9f5b692da860c4c2a54583831db4566497d3125afaa488fa7bbd7e3cd682e489edaaa6b82d60a40fc91861cbbd8f4d8a1a81403f8d1df346c965aa55893f8aaeb88197cefbd7ce07a9b9e70b60bc4f22c705ec1fcc36f371c48c3aa9a9494aaf55312af5d4d0ac13771252e88afc32d53ce302f8df5ff1f92ade82bd35828c6c4065e08fc3437850d70e721915a748e219972bed1d0f062d85acfe2149ae9cd4d8f08d6dff83befaf6bb9459d9c58818804287cfaec12427cf7a0f726d5f0db4dfa784c132b20916163aa5d85d65f16865cdb3ac22cb220400b772ab4fde2dbd30b41b7845fee1b676c70e7984ac63e8f895965039a4441ac98d3d3022ea5e2a3020a85795b6b80c90b8e7141b4eecd6b414144e86192e1e16334b3245dd2e2d9695a3a74426d62ebc18bcce0834cf707c9f073e91502e9081cdcfc51aa96edc843bcb1849f4a00b0d5a7f2258b2ed0c82bd4948dda515120b1885ef729b7eeb054af3c2850c229df5632e7ef558a02cd009ec341241b09f014b48e15af1f52e6f0b9b0a76f15ffec86c68cd9d7b5d9a3503a5af24e549bff689e24c82af94508cfb3b90e953d670a044e5d0424736d229d06b5176e3dc79b6b781e52c2242bce95f23930d53744c69a49ee3760077af8aacb9e8183a454ccf93e3c06608f07c7d7b3393b9e9d3c87962a33be8fc7db25410e08e907f647454cb7262c85df121cd0a54f5865fc5a6fb8890be8d59c497f2a62dc5e4ceb717a8182ea34026b2c49aa506c5bfdb07c30fb22d96ccc5f09dc4f70991dc41ea5997ee0d638d4ea38d9a6043132929544a8c2cc029e44aad9dbecfa3594a2391a43d3b4f90917d9a6a0301aa60ea1b146a55d327940eebf227d47b212f304c3191a0d5e34a6b799bdb2bb72135a528954c1780fc87b41f761b678a4b589e21c0dc952f13d7bcb35c19f6f514d882c3eebd882835574000bb9110d10d4b61ab73d40e7d0d75c76944b17db90482fcd0437b1363b645949e335f89d95ca07444324e4e8be5eeb7a3e6f0e416bed446c71dfbef3c13c565771d7916e2df3ba24bc8e476ed36c9163b8c3537966983746ab973ae67ddbdaa716e51b3c89d11c9c188327f4d5518328e0d1a1cea1b3c265cb2b80e2955f246f70a880480fafc6a52da2fc3eb2ea94ba7a266a388849039ac5c8d4a6b7145bb104ac58e9f8fbf369402d62c756169ca5d6416b6f542ac640c881d619c1f55519cdc089efbee4f2a968e9a36444e6028e0bcee45a484d7d6c166610fff666f2d75ab6771343c2c4ed33c01ed5545bf261150af137bbaa7710a138ce58f872351e796992bc97dc970009379a92ce2fee26ed600805e5981929153fe3de18eb4f23f79631bfa6eb43bdd340a163bbfbf12a55dd564dd93bd1afc6b534c42cb88a01f186a8b01e55fa2e429b65dac53efeda1f5d1917f8e6977f0a9d2c88c8ea3efc8bc26002cdc0b2346c3495fdeb0160121bf19e0e9a1a114afe618f4d05d3e5e84a32e9dd8de27815fcb4ee3b2b41b7647c6be930b760c843e4eea5ee68b6f586d7dcfdbd447c07f46782d011e0d61640ff4fbdf83a1874eec40511b99114caf599d233ba02ad88876c625e5edbf80e8b170a4fff4fb83ed0b4c75a2b6832c679e7c69a5f9661d8612206ab72d7f3e1ee6200d1125be9b5ea96101c7375f60c9c254fa1d54c9946980e8b34c7f1f159aea41eb9a060b0afdf8563439597e3397047daded6d5538c71e65a8bf7b2b8b70c5931ac7e8f49494b1964ac25a3860e7b175b4bf209af90e4565f3fe58925c53c62d806d6620c30972e1fad87f313836410d950e69f5f8ba7abc2a912b71683a57eb7fbb376503cb0cbe8e5d4b7c65e7da2342c6092953bbea1bfa0a7ac6624536a8760f4be2bc9188f26671babf53d4b6d28bf03decb2ec687283b5974dfa599fcd4252d014e740df61c3c434bfa0c8070d1c254513dc35a2989976bde98e9e4b25ef8d05a70c24770031bea5cc3bee331222da849cc56d36b719369b8c8209408412546b77e1f9872945681cffa6beb888faa55633cc235cc726584b81126a598fbb2bde3f1cd4da8bc964457b3c88d39715782e402a0780bde504550120b055b474b3b3322124cea721ac040f6045e5dfe97db01df1ab8b4788f617e7226c7f11f49968194131dff7ed1c75043e918f7abbabedc4f0e3a285b8e5c02ca0357c53dbf0616d0137fc033aab7e496681781356c454ff0d4159a7e0aacdffa5d735a0cf023399cefa98884ddb09e39a81e5ca46a16a0f570189d7de682d20c5cd7c2f67cc57a82cce8ae54f9132c818475d726218e28ddc9c999b71a774f0fe9cb38ddda984a2ccdfa60721e3a877d87948d3841cfc8eab2aa5589a093627305014de0e45b523f74a1e04ebd3129acc6b41fd869bdcf8b615515c309c21c9112c4594e9fd17b325b788c0e24f7a972e64aa725ccb86fda14f2468af2818806159f709b88783565484699c84e1296273fc35d352025377035e645e1d61f24954f361dd09532a31eeee5b4af69e340bea716fc9967727cc85b411e558daa428b054d6d43b50f4ec9dcda1c1444962fd26b76b93a9a387317a6267f1ba75d820dc42584d341b932fdea8f616ebdf90a96e056e8efe51441acfe72b66605ee03bcb270ab281db6184d773b1d186f97b1dd9339f23a187c1029e84a15899f91feeb6ceaa6166e7a9287cf56ca000df573f5b4d5c2e1c3fa6b144d9d5342d1f06c7d799d8b28a609771ca0e24cd6b51294064c220e5305c97b48e3b5e9d2cd557de8a616e59a3890d32a61bd911c054b5ed25dfc07f161ebf28f378be8c7e588dc4806434fb5a23a9a2f682c22ab14ac5eabe6a58bc3a9641e1761f627c85a7db96779094812344c0af5a2ca17c95926fe4a81c3d0149e25516d3c8c5b575ce8b800b28d8785349c9fb53b55c6df561b403f3cd27ae53436fe66fa2355edc6eaf1d89fbe9b08b192c94386089c3426a1799b7aef9f33c64c0a4211c98e37af3664c68e86385fe8b547856440cd1a6a4035db81fb1b52de46a0273ec17a625b2702ea63ab9693af40752a62b10420e410be636643b761ff199435bc9afa614392de3be8d19d51f375f77064319910aef32cccdedac0d0667d413d00831235155fa447040530ae2221985f05727027aead590eb9bdb124f6befdd6259c0ff5f850def50ef51e2377996bd4d7314ac3bf32c5c42d9178e24ab125452032f54666ca53d9faa330580c98ab00ce7107728ebbe30f635f2fa2c0f69a8b74b1f45c7a6503522185d7c901b16caffac77d4a670e75ba02d62e2cb3fec36e1f131432049b1cd412b2d2ffba056b92d740dc2e54bb920cffd09b7c159247bf4dfa3fdab9631d1e5c0b46350a9b7cebdea9f0f573deaa56e9a1722312d58664515f6f518413717078e882b99168bc0bc27dc07d601de747d15bd4aa9f9ed1e1823f1a1b0f7af5acf8026c38b3d941603696081269bf4843ace70e3efa82a77d00474da14e5c347ef6aa3542742ca3a732e99bbd58fad2be27f6d01ef069de677edd3df3c1778a8463329757018edefbc7ff76c413cd272c83bf95fc2de188a75ce2fbd412cc402505c5fbe8e954a6dee75fa3d79ba762cfc1aa973ce137a769d85b70d7ec2e81e74ad0fd3f5e6cd7e65f01a659b1f49c208f29d0e4ebe4fb63fa4c95119faa5cf6d3b3b98622260b4fec0bfd1d6801b4d785d1629e5d051bb239108cf2be8fe9062e446ae9f8a1b965e8200d94ee14b120a24d7efbee8612742c34f0bdb836e3d7caaa7c859487276ec71c1a1115db5d160e95e357e1843542d66c49ccdff17c522cd7d8b1f19b996dd8cdc5efc2b8ed09473ea43a34afb9eb5ab92306d0f24dddf143aa0442646b70985107511776a45d45ec99ad4d7f3ff353785b5b7dcc38c559e6dbe09c2520a8970f614e9485e8ca1c27a81879677f70e4d50dda5a7c93981d8ca157b2fe3659b5e9cc0f9c6bc82e347039048b02952ac2ed4a36aa1b54aa9a3db0e1eee458dca73f0dc2e0909da6301cd5dcee82ce6729e8303af40f34439aa7ee314ce214096e0d5518c3d5eb08ac811acc495dee12a44284512c61d17c1538f2dd26d1b4dea7cd432f5403609bbf95673def38055412db88aee7aec64ea7f7033ebab7e5ddac7e557e6a28a41493a569b0e6328e508adb4b235309b9bcf12d6d9218f76a3cb9ab2a894d35fae1e5e92e0d94a1caecb4ba2f8a10ca81a044572e9e7164cce2200036bf0801d4c28b0076c34299a1630d16332abc930956ca769c3fb68baca48250a3db29641e53a31a739e3e2f07e506a733d526b9cf5d53ccc537999b2321a404378af6c56541884e51d59534a17381fc40bf25ef8526fa70ab15598ac62173eb18569d3f5eb6e036f3183ee2a38c099ec72e9fadd58cab1db1ff7a79dc00c39b247dce706168433bedf0f88f30be78c89c268de936eda5c3a3de65b06b3475759f4a9d8664a7db43f71bffbfe95eef95703355ebd35dd2a08c735c9e876b3a58d80c97f1ef75c834cb8475381b9cf60a8bb7be3f36624dc7640875887a6c0affe8db64916cee368e9da72a0f37a19bdc91e01484ec30f57853a5352d815a00aed89bd8270f8b158ef2f34e550787500859dbd1875112ff2c7815a9ae73e741c3d0859090dc5a3f8fcf837a68d535c6d136f4e542b6868ff92fd16829b3ff2b6e40bc3b0a383a93589e6aed1ea204357ab1f9353646d61adbda0cc48ad19f629457020a82e449278bae094b2c8044a6fceebe4da03f2e07da1de4ad29c72d689559899a3b4ee5a991560747b733ce973d0e62e3963a02d0e1bb3311ba03b6618b7ebcf6c8ff668d9dc0ba2508763ec1896e818b593865fe4b279a9540bd82f1b384170bbb25725008ab5b1d938c12ca25b5ceb30ba77593b5d1fd460204000600050204010000060106020402000104030404000204050603000304060407000400050503040a000606040408030006050409040b0606040c040d040e040f030106070410041104120413041404150200041600070608041704180419041a041b0302041c0008041d0609041e041f04200421060a042204230424042500090426042704280429060b042a060c060d060e042b0201060f0610061109250926000a09270612042c042d042e042f043004310432043303030434043504360437000b043806130439043a0202043b0614000c043c043d043e03040305043f0440000d061506160617030606180441044204430444044502030307000e044606190308061a0309061b061c030a04470448030b04490204044a044b044c061d061e0205044d0504061f044e044f030c06200450063a0451000f045204530454045504560457045805050459045a045b0206045c05060010045d00110012062a045e0013045f046000140461030d046204630464046500150621046606220623001600170624030e046700180625020702080468030f031003110312062603130314001903150316031706270318062806290319031a0a380a39001a031b031c031d031e031f062b0320032103220323001b0209062c020a020b0507020c020d020e020f0210062d062e02110212062f06300631063206330213021402150216021702180219021a021b021c0634021d021e001c021f022006350221063602220223001d022402250226022702280229022a063706380639022b022c022d022e022f023002310232063b023302340235023601000237063c02380239023a023b023c023d023e023f02400241063d001e0242024302440245024602470248063e0249063f024a024b024c024d024e024f02500251025206400641001f0253025402550256025702580101010201030104010501060107064201080109010a010b010c010d0020010e010f00210110011101120113064301140645011506440116011701180119011a0022011b0646011c011d011e0d3b011f0647012001210122012300230124012501260127064801280129012a0d3f0649012b012c012d012e012f064a064b002401300131064c01320133013401350136064d002505080137013800260139013a013b013c013d013e013f064e0140064f0027002801410650014206510143014401450146014701480029002a0652002b002c002d002e002f00300031003206530033003400350036003700380039003a0654003b065506560c03065706580659065a065b065c065d065e065f0660066106620663066406650666066706680669066a066b066c066d066e066f0670003c003d003e003f0040004100420043004400450046004700480049004a004b004c004d004e004f00500051005200530054005500560057067100580059005a005b005c005d06720673005e005f0060006100620063006400650066006700680069006a006b006c006d006e006f0070007100720073007400750076007700780079007a007b007c007d007e007f0080008100820083008400850086008700880089008a008b008c008d008e008f009000910092009351130d90a27c1138a0042b2628c157c458e333097bf89d181c000000000000007e7b041abed6001a50c4ed58c1db3b00a91e0d27875934f7c31e0000000000000002000000c669820007e792c3d95dd148bbdf4bf5350f26b6c2b6c2a9ee7dbc15d0a5371db9f45213fda3140a1b36bda8c50298818c7ca5d2b0074591d85cb6c68d254eef6aab9b0ef092ab29e0b5eddfec9da135470868458b6c4d4a328db132d016d8ebe85210206b1dabdfc531344cecf3f20baeb895e8734ab1279c0147f2a3c08df7f2319e02da06475d69de984fcb74a1ceff59039a107cf894eafbd66fa5e40ce65af6deed35ec2e4370cb991c9a24d756376a334cf8164928cbce0743d09dff80ece697f39b5a1030f8617a135187905f1a38e4e695edc22d7d6c1dbcb7d908ef0002cbd7ea176e50b28a9ab11212b38eb23a177de8d00da19943cc72b6227df0c7124623af48270240d9a0508d2c015b07946257b899f73c7e376ccc078d0669e5077bd7ec0db2077c21c81c31103f5fa8c78486478bc3da74b1547a7a5068ab17040fb0aace86a186c59455c9771d3152a95c917e56264331c9aeb1ad42f2023c3516f0c7119701';

let raw2 = '0110fd2e09fe00000020d783a0f69ab2e1c88dfa72718c1ee7e3cc6b872fbe7d77010000000000000000934c08593e1b0218d97c7f585545a3cb49035b8289b1827bba3a3be7171bddc312a88934250000000000000031035c16072cfabe6d6dbbe1e5f540227ecd6f5d9d13a109326740314256e59c586cc5bf6f163f9144460100000000000000c9243626fe011aa5af93b43f5146d8a7f728417044e972f41b9e874b000000004200fd102b401cd5f74a4298527ae9d73953efd584ad4d947714f6aa34917bc51bfad06beb0581bb1073dfb976ea1f2f28fa967a8db7c3c7c53b49426181007af0054efc269122431b801ea97e1ba7c03beab2f1bfa2e763303761eda9adb7d655e529491df3bb546228b0dc61abcc3af2227d22ee963fef7c78502c97b9674e4f5d9fc505f50c0a3675eff1534455609b1550e784605f27d84bbfa7a3e57978d3621eb42ae6bbafbc82e82bbe2abe967b8f0c6418775bc9a6616cc91f26151dfa896fe568ce0a09dfc0764400ecd98481ce2ec60a191f00a22981cfe9a0c7a9694a3f2e6dafeeb191a8ab79f415fc14968f5030d864b87e8a4af38c63da82aa60fd5530547071a116077e14e2172ff761fb3e86abbe51be6bf98625920c8e107ec2f46fe5964783e2a3cd530b3c699c8dfa9e910e5bbffdc5079acfc5ed876aa20a25912a4b9b4cf49ba4695cf39027576bf0491cf2fd6126029050c9a20e78eec624a673674facddf2f1c09107714240546816e9631e36f7ff32ebe03a620da7a7f97d24fd8eb7caa2dd245bc278b2d7eacf2ba24c630ce4a712785d77de2da096c9cbb0f28ca1f9fdce42faeb6f16779f5ab15a974ccba862dd47c3780103deaa34a2921f35179b914eca05773a92c4e5a8a1f61149afecabb73c57a4bb020b9b190f2d6a611ffbd118d47ae1621cce2f629b84e5076ddca45ad6298c5eee9b4538bd27dff289fd31ea8303aadab7d164ecd5db57a7031a62b0f292dd12b072a21b4401a79825aae3e8ad3d23b846c25faa3c6798810b194226a8741089754b362be64d77ba012ac36b7454c72c33f653c6911ad13226c87b0d2a27865786978e231f2e268368f6b24b4f6efeb4b8327248775e6ab6472c695d81a6de757d921104e27b20e4ef01f264e3432e834238c9e821f2a4683dc707c04c1427b2ca4b0f030f65ca0b19c70a126bf7a5270e99717f9d91e0965bce918ef7f76cad852005f316f032e546511f85a84fe021e9f0cabeaa5a25024fd5c5c68750c7aeb2add9791f59de068b36fe7a4868155ce7f6fc4ee44f371cd1db5228ac78834c7dd1a996b3b12c27f924c8ef1c75b3c106fba0dd0c251acb715fda64959711d05ad4eb484d56a47a79f3f59f272c1f960f6f63abfc6caece191e56a3faa538bafd64d58fe9e49fc3b321241845fd518b5b003e36f69fe556851b1f224a5a84c947453a68dff05f228743e089e60fb171c37c896e173859ac85fa2477349cb70352b5e40e10b07e9f48509a2ddf93c3a05e8c816cb4ac119362b39b629883b6ee1766d7678b8a38cf7bf1ced6fc75b3c62b9ccb458e094564b95da81482e9d59135c171f1ae9f3172db9960c6cc9d259f31c24c5d1b423952501cafb6060f1e648cb591c8231ba921adccba470fc0224f3da8a451bcd1e1deeeb8d97eb7a47cf010484e150a1dd4a6906e51a48b14de1bd046bace09c23fc5bf261487f2022d7430967f6a476bec154e487a7b6d6cc72c64d4f78a54450a498cd502cb920ea3b4c4340ff6010e5e523e82ba528a44bceac1b69aeb0775ce5d9a7e6f7fce385d33f2067e29e1c6f3afd67e77df1d7a85f16e7046370708160e39bda354eaadd20444f6d951798ceb58d1e3830da9393eaa8fb7947cc73f6446fa235550d0e33be4270f32a5c6aca7d2de7c420adb52a9039ff2ae44259c1e13f9f90ac54391be6b3ded051c5403d2c41fd8ca5910d1429d87a3eafec33494ba078dac2688388c394ead91ced572c9a2afb6f475b1966ce203618fdccd6b3db6fc34ca36f31d2cef6ea08fb317723b3b396bb17edb48aa8609306f8c52c1a20f7bda59a41e1565c432915c467f7aa78abac3715322eb797ec8a597ccbd40fb578197d6a79b9ed5fbaf3be96fb4eebe8697b18a1628d95bc0237ce67d39b5b06744c65a3a6c1cd5cd8d6ca1bd32a0dc020703000301000002080100010102090302050005010502020a030304000401020b010203040305020d0103020c03060001030701050002030801040402000302100211281b050305040106020e020f0004021201070108030900050403010902130505030a030b030c050605070214000600070008010a030d05080509010b050a030e050b050c030f050d03100311000903120215050e050f031303140315000a000b010c051003160317000c031802160319010d031a000d04040511000e04050512000f031b0513031c031d031e031f051405150010021802170011010e05160517032003210518010f03220200032303240110001200130014051903250326032702190328051a021a0329021c051b032a021b051c0015032b051d032c00160017032d032e051e032f021d021e033001110331051f021f0332052000180019001a001b001c001d001e001f00200021033301120220033402210335022300220114011305210522052305240525002303360526033703380225022401150024011605270025002602270226033900270117033a0028033b033c022805280029033d01180952002a0529033e052a033f034003410342a2f0b1da0b34280d8fd4c37b0bbf0cd89d8665eaeedb6cccad000000000000003d3b011abed6001aa34c08597fbd3c00e8caeabc62cfce6bbf22000000000000000e000000e06fa70071f49321d79894d3dc7968b9b9b240933d0b71bae151c6e1e8fb020adf3d15aefd3d1408d7798dea0aaa10d1968ab385b5bf4b492238cce923287e915ee9d3b837d646cb1b21f70b06b7ab142f89c2a8b953da5a75cf059ed5105c07fe59dfd678a56f080cb3953cb43c53f3690467a0f319d5b3857d5b0a2c717efa641a8ca63af3a3625126e024d7b0de92a816a97fcbfbc0333d8bbcd9cc310463a4fdfd37be2fc53e6c7cf6cd56e68f35913a8b4d18da3ce8a3409db4d31dac28ae64066a065065a5a79df4c48e8d29393d20b87d594fa125d207bc18dae9eea27a9d5938205073e6c348ee88bd8878b769968d76439390afb2b20fce7e38f5eaf676d2267c6bd30851d2faa8b82c231063234874b76a37d83fda393bf4090b6b36d80a4d6b2bfa6e';

let raw3 = '0110fd201bfe02000020061aa2e3c699e03436f448168ccd1db31a186db8e9f9e30000000000000000006d3a08593e1b0218bd8aa756077c57413dd31d5379aefea2b270d41d82ab041d4a7d7bbb610000000000000031035516072cfabe6d6d79a01f68d53c814c34cf600e0b043c4970e04f3b999d9f7fe05ba77ebb8f8e4b010000000000000063629d89a4330b117a1d2ba09e85de912adc58760952b091bb499b5400000000000000105e15074998f2efbb9b020a643479ddb7b138ba9c11bd3b6ad8503a00cb512daf76eafcd28e5867d49182b8df621e5183e1fdd289c43767336cc20ed1edcfa4c4baed8ae170a6f570ee9c8d9b5cd3ed7fe7b3fdf43bea3106db6c1874556ee9f24da00cca23a7ad70353ffae273b239b543c1974fd0c625740aa7e3cdfc54c56dbc5e674b81e4b178dc59cc14a8c7f4ca702612ad137112fc52b9631333fda3c211a29e893cf891b1528103db7cf4036772487a0594b4319ed6c9bda05eddf0a025b40f5bee12ac2995448530ebd928006703d0af5aa28c8efa1ce702cbbd1026e4b779aad8fb70f21dec8c8b62d316ad581a609fa4882924d4863d7bb97fa6de3ad6ce4453a958a7b01d95847b5b6aa79e8e53d272e53181af94a62bab49c062125bc04dae2c5507efdd30a3bfb477bfb24de09f5560235a2b02c7af2f1675b5937420123539e8aecf42d42e4ba2e7cfc9eb50445ae4d94fc273a25d3ee9eb449eeeadc9bc157d315b03c4be70021367e0714f30be0da96e9cf82df1de64516223440b9397a665a066160216c6e3bc021ede0869af0025701bf1655d53762d4a08ef6ab21f4850a537c5ac5d6b40c2db6f8007ce8939f47e4e525b02057d503fea3437bc6f8b01a38e645e6d821030ba315f6d1c03079410a2c8b9e74173bc01f9bcc5df38f87788ec838b9c2c7651faccc34c38e39bb5548e4580131c0d8f0c594e0bf3aba7f5d4034fb50e30fc0cfaa1d01e9e5ebc53d471ab80130717be4730b852c2f9bf4daf3fedda74f784faef493ae16e77adbdd3dadf647d437c33f1e0fea8d626c281d70415afdad01a7e809e6df7bc98e36ca0731212d6134469e0dc5abcaf7a8bbe0f51786b81e434ef1cd5ed66f57fd7f880a91c5593215286003c0eac376e223e71f1c1ae7b02f90f8a1e779d3c869250b58e68e67e9e6b426ee1c1963b6422b26ac4095ca96989d9f228419570d2a5a5a88b65749296585d1408c25b2af7d6c049e4c443d812bd3c38c26084163a4d0480870eb2f38825f019a1cd492a8a8b4f735eef62588e6658537d20b1fa65cf78fa17ed3aae48ea33d4362a2d8d7ae0b37da9630407c215986263f5272e2b01ec836c11d55ac86f7c921029054ccdac7967015ad3b12314ab3e4c585dfac70cb5632c5525c2a710da65fc14979828f0659dea62bd0c20a378c9153343e6bb4f5ac32aa01bd53fde3a68be19ecd11f8e19483016ab2d46852086068095267b38302099e1128ef5a2b088390b45e97e6f976ed16d713b9e951a6d92af28d57cb773507dd4abda0351ccaef1f77b04c1e062f11859049cb28fc11275bd1e8c051c44a76725ce1ebba5b1014c29324f224fd92b52fcc2d6dccf5784ac41ba0220b35106dae067bd8bf9885f9e98bff56bb7774a4fcdfd8369162d37c70e325daf1c659fbde922d61f4708aedb1e1c60b4ef5050e0529e0d1dd6f035a8f442207dc2802b228fec42c030eb3eab06b5477ce75ae3fc48eebc29ab25e1e54111c75430cebcc89946b6da05a453c3e5a2045ea6a5462df13a3e4f7f6ecd82ee400d09ce427d72fb8dfc16e62633704007bffee57649b71104c8a54c79e1d667fc6e43855491868128489787fce4f40a2cd3c02e163466aa69743dd0505ab0cb9648788cd57cdc34600a0fe4a7085452e094e2d60675797bd215fe84c93058d243028e3b54e6894a7eb0f89421b539e84877595bbd5a10cb0773ddd8444d71521ee6e2af3034d91e97c979b406354e387daef5582ca36a769a9cbf2749c5b94a2009ab98f4da26f5dc6272bc13d43cd33b92abca9e86b49cd99b14eadca5ab5ba5ad5eae269aeee2299dda8a43fa9ba800466f780b13894078b86d03086a23ccc71888f80033df10d4f2e7f47904d25df3de5b34f24e8fc2e813cc1f2ffdc0d28a1e4832826dc48c86e6cd76916448e33edb412123be8834d73267bef636d3bf8de8c7fc9ff903ccd1b8a2d5b455f88666e32bbcd803725e065682b3936de7544b80ff9b6461aa71d2bcb86efd51d11a06729ca91e5f9a4105e40130c97e573b019bfa54563c85a51e768fd1415ebc6b850cf8b9da2496a64ed9b8cc0779e1b8160ed766a6deabebbeef3cfe4f3da4b55997816d2d1de4b7cb757280648265acf717e94635780b18f5b69be699b697d0303f55372ab87134a4b2721aa22cfc99d8fa954f52b6ee931abc6e8b5886661f558a1c7a5599d1a66dea563a76832dfb048a219e17b1e8396fb3ef8d72a4ed6f6dd1204c64317ab82b50b1ec899957cedf61289c764d87186c2b6baf5064d0b03c944169075354efce47e107933c8864085543e68be759d28e103cbdbae85b16d449b3ee8efcdda70e6aa5a122ee636c9a2f55f1c4881a38d11b00d06a1537ab29fd372888cd2128a650ae8d6687a786f880fa39e52b802b7ab279cd08ea5b7d6a40de051e20517bb498d0548689358a15d07e919f6545c8de615f3ce7c60a1576157b4abb0f24cbb3bdce6f3799176ae885647a3172790b0641ac33c045ad672e537c5a2d3ac0690b80c58ab8e234e8af0cd227f9d0df26d4d84d5a0ef8e4086fa78717bdd393c4d1df49c616352d1eef79fd32637b9766ffbacee2c60cd833647ca154bec63da8b6075051758d4b11bf0a43f5898c9cca7b150ca9182dd59fb2a92a9df378ec9ad65de02b325c0e351a16ca74893f2f873007b5f1217ed5845e04f5e23c2afe8955d8453fa494bf240b0b5dca338e24f0ff2975aecfb0a72f9a5815d47f321b211b79452e7595c5bf54350f271b6e9fc9ef01336e2ca607498a1b2d5dd21de682733ba6781a78aa54224259404d5619bbbd01ff6d6cde631ed8d09ee21f7d845ec746ac3a0f41ce342fc2eefac83b360c2451324e11359375354d68564126d297e7cb4e321b819b7a871056356109bde7f7cf1d02f5323043112ef6250c0262f1e48ec597805dfd0f0f0b93ec9fd4362379b424c814b40bf9e692f9bc6989d81bcdf8c4b19c01a1d3308d00a44791b385bca34deb1b7d3912ffa0f1b0d87861a3f523411f688d3de183b4a6a939d281ad1ffabba9290eb181078f6818d31fe302c81f02ffc860de55674f4c4ef72534ed5dc0f25dfae6c9f35c4a709ffe4bffd62e6e624e200bdab8ea18c9818613ccde46241624a69667d0ef23772444269e1b35bc933b99952f84687b6e1ba8a55a2da2e70a56c70df1f99d5bc0c6e96581f1fa882cff7927e9f6da14086d4fee51107a3205e8da9d3409f0536e465e9463cd875233b3fc35be81b31a80f31f5aa11db3da17ce6cfd521135505d35ac93ea4aafdeb7c19d907a4c49e9348fb067eb6b47afbadadd20e9ec4b50cefd5b8bf0cc9471db13e9d85178f5afc58815f8062ab5c8601dbe0567148c159fb463e02250414c9f6e13a3e4e1f93e172a5b8a1a6ff08691c9e11c09629cffa3be3c963502eda23cc80e44230e424c29ce156c1d91287cb6be569832376bc390329ef682ec507122c91830e72f60aa5cd2d1e3e3ea1dd768cd6fd6dd22d757ac5f8dfea23ebd3378b8c9c0c17b01872087e89acef1b3e59783e614a61df378377dc2d154113c9a7719ca20053eb300ab8901c51507a7cbb974ff1406cb1af59ba4156912071591f93f151a4dce4e2da3eb16c5650ac138de0f6586c08bef2594d0789ce06e88cfe26d4fa07d2f3b04f30ee691cc1d650ba943d5f704469ca2eebf84189c72eddd25691e72c4b406c616b50c6b584c27d634006143a19986b9ff73c9924efa98343e513508c122a4b0a0c3612e0cc445ecf4666e77a573a100b32e32a04c7cb43389772ece3967c9d6f832418ad28ce175c2f5f455692227e64bbaaa06a412045651011bb71e01ff9a2abada772211720672cad9b28f5f2fc2e3a7cacfeacfba90fc004414d8933221c430a306222ae5e729e58f5d3cf831cf776272bfad2fbdcf7371025e48ba1954b01dd664a876e4482ffe59e58eb6836a3a210cd7bd26d0040d2cadb5d70f7c6a0d5c5777657911dbe7d6237a5e76f069f7b175e671f055116a9a9a85de7553a027c18b32e6a4b5cb5d0f8a55c4bc7bd985865a83930b8a5d260b8f40e210dfb6666c18ca8873088f119665cf21b4ed20be137e7addc837287a16c18330c72b981ab3ab0b6e2fd75ef88d68fc807170e462f81ea8727b79df3dd0923227a4abcdf15af186d7d8aa5b5d52aa0107ce32e477cb36f515dc33656ed7349a5f8160826fa6b1f206e7685ff888a3074ffd74060c000b00130b0b010b020b030b070b080b090b0a0b1f0b200b210b220b23093e08000801080213180900090109020903090409050906090709080909090a090b090c090d090e090f091009110912091313020c010c020c030c040c050c060c070c080c090c0a0c0b0c0c0c0d0c0e0c0f0c100c110c120c130c140c150c160c170c18130013130d000d010d020d030d0413011303130600001200130413051307130813091201130a120212031204091412050d051206120712081209120a130c130d130e120b130f120c0c1913101311120d120e1312120f12100c1a121113141315121209150916091709180919091a13310001000213220f000f010f020f030e000e010e020e030e040003000400050006000712131214121512160f040c1b0c1c0c1d0c1e0c1f0c200c210803080408050806080708080809080a080b1317091b091c091d091e091f0920092109220923092409250926092709280929092a0f050f060f070f0813280b040b050b06092b092c092d092e092f093009310932132c0c220c230c240d060d070d080d0913230b0b0c250c260c270c280c290c2a0c2b0c2c0c2d0c2e0c2f0c300c310c320c330c340b0c0d0a0d0b0d0c0d0d0d0e0d0f0d100d110d120d130d140f090f0a0f0b0f0c0f0d0f0e0f0f0f100f110f120f1313240b0d0b0e0b0f0b100b110b120b130b140b150b160b170b180b190b1a0b1b0b1c0b1d0b1e00080009000a000b000c131b0f500e050e060e070e080e090e0a0e0b0e0c12240f140f150f160f170f180f190f1a0f1b0f1c0f1d0f1e0f1f0f200f210f220f230f240f250f260f270f280f290f2a0f2b000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00200021002200230024131f0c350c360c370c380c390b240b250b260b270b280b290b2a0b2b0b2c0b2d0b2e0b2f0b300b310b320b330b3413290f330f340f350f360f370f380f390f3a0f3b0f3c0f3d0f3e0f3f0e0d0e0e0e0f0e100e110e120e130e140e150e160e170e180e190025002600270c3a0c3b0c3c00280029002a0b350b360b370e230e240e250e260e270d150d160d170d180d190d1a0d1b0d1c0d1d0d1e0d1f0d200d210d220d230d400d430c3d0c3e0c3f0c400c410c420c430c440d240d250d260d270d280d290d2a0c450c460c470c480c490c4a0c4b0f2c0f2d0f2e0f2f0f300f310f320d2b0d2c0d2d132f0d2e0d2f0d300d310d320d330d340d350d360d370d380d3e0d3f0c4c0b380b390b3a0b3b0c4d0c4e0c4f0c500c510c520c530c540b3c0b3d0b3e0b3f0b400b410b420b43002b002c002d002e0b440b450b460b470b480b490b4a0b4b0b4c0b4d0b4e0b4f09330934093509360b500b510b520b530939093a093b093c080c080d080e080f0810081108120813081408150816002f003013260e1a0e1b0e1c0e1d0e1e0e1f0e200e210e220e280e290e2a0e2b0e2c0d390d3a0d3b0d3c0d3d003100320033003400350036003700380039003a003b003c132b0b540b550b560b570b580b590b5a0b5b0b5c0b5d0b5e0b5f0b600b610b620b630b640b650b660b670f400f410f420f430f440f450f460f470f4813160937093812171319131a1218003d003e003f0b681219121a0b690b6a093d0c550c560c570c580c590c5a0c5b004000410f490f4a0f4b0f4c131c131d0d41131e0d42121b121c0f4d0f4e0f4f1320121d0c5c0c5d0c5e0c5f1321121e121f0b6b1220122113251222122312250b6c12261227132712280b6d0b6e12290c60132a0c61132d122a093f122b122c132e13300f51020003000b6f22520b7003010e2d0940081702010c621332030209410b710b721400122d1d211d220e2e07000f520b7303030d440f530c631401094208180b740b750b7608190c640b770b780b790b7a0f540f550f5614020c6514030e2f0b7b0b7c0e30081a0b7d0701122e004214040f69094b004309430b7e13330b7f0b800e31122f1230094409450b810e3202020b820c6612310b8303040b8400440b850b860b870e330d450b880e340305123203060b890b8a0e350307081b0b8b030803090e360b8c0e370b8d0b8e030a0f570d460b8f0e380d471233081c0b900d480d490f58030b030c0946030d0d4a1234030e004512350e390b9102030f590204030f0e3a0c67020503100b920f5a031113340b9309470b9413350948094902060b950207094a123612370b96081d0208020912380b9714050e3b0c680b980821020a0e3c133613370d4b0e3d0d4c0b990b9a0f5b0d4d0b9b0f5c0b9c094c05000b9d094d14060b9e0b9f0d4e0e3e03120ba0031300460e3f0ba1094e0e400c690e4112391338020b0ba207020f5d0ba30e420d4f03140d500e430ba413390ba5081e0c6a0ba60ba70c6b0ba80ba900470e44094f020c0baa0bab004803150f5e133a020d0bac0bad03160f5f0e450f600e460e470d51081f0e480bae133b020e0baf0e490c6c0f61031709500bb0082007030e4a0bb1133c140709510c6d08220bb2031803190823031a0049133d0c6e0d52133e0c6f133f123a0d53031b0bb3004a0bb40f620bb50f6307040bb61340134113420c7007050c71031c13431344134513461408266d254b13471348020f0bb70c720e4b0bb8031d0bb90f640f650824004b0f660d540d550c73031e05010f6702100bba0d56123b095213490c740825134a14090bbb0e4c0953123c0d570c750e4d0954004c0211004d0f68140a0d580e4e0bbc0bbd0bbe0c760212031f004e0d590955123d032003210d5a0bbf0f710d5b03220bc00bc10213032303242d272d2826482649289c289d0f6a08260827289e289f0bc20bc30bc40bc50a002241224209560a010e4f134b004f134c0e5000500a020e510706134d09570f6b0a030e520c770a0403250e5302140e54070702150a0503260c78134e0e550a060e560e570e58123e0a07032700510e590a0802160e5a0a0903280d5c09580e5b134f13502b182752264c0d5d0d5e0d5f0d600d610d620d630d640d650d660d670d680d690d6a0d6b0d6c0d6d0d6e0d6f0d700d710d720d730d740d7500520053082807080e5c0a0a0329032a021713510a0b0a0c0e5d1e6b1d4a032b0e5e140b0c79140c1a2a1a2b140d09590e5f0a0d0e600f6c0a0e0a0f0a100f6d13520e620a110e630a120f6e3333333408290e61032c02180e6413530a130a1402190a150e650a16095a0a17032d032e0f6f140e0a18140f021a0709032f123f0a190a1a03300a1b12400a1c082a0a1d0f700331082b0a1e0a1f033203330a200a21095b0a2200540d7613540e660a230334033500550a240a250d770d7834153416082c341734183419341a333a333b333c333d333e333f0d790d7a0d7b0d7c0d7d0d7e0d7f0d800d810d820d830d84070a03360e67082d0a260a270a280e680a2903370a2a0a2b13550a2c033813560a2d1d532b1714101e461e47135714111412266c00562414213b33401358095c1e49266e0c7a03392e6e13592b1a033a266f213c26702566267114131e4a141414152672204f14161d540a2e2d3926732674334132561241095d095e082e26752050033b256726760d85135a141712420d86135b3342360c26770c7b33433344334533462b1b2568267814180a2f0a3014190a3126793123341c213d267a141a267b0a322051141b082f0d87267c0a332569135c33470a343231300f2e6f2e70095f2d3a135d256a00570058213e256b141c021b256c256d3232232e2e712e722b1c1c64256e1d551e4b1e4c141d33481c65256f2e73341d2b1d1e4d25700c7c25711e4e360d1e4f1e502d3b25722b1e141e09602d3c1e512b1f135e32332573257409610c7d083009620a35021c33491e522e74334a1e5325751d56021d0e690831033c20522e75257625771e542b200a360e6a2578141f2579257a14202d3d257b257c257d142114221e551e561e571e581e59257e1e5a1e5b0e6b1e5c1e5d213f0a3730100a38360e1e5e0e6c0a390e6d32342b21257f324d1423142414251e5f2d3e2415241630592e76258025812582258325842585258624170963323524182e772419241a1c66241b241c14263011021e35161e60205300591439005a143a0c7e0c7f0e6e0e6f0e700e711d660f790e720e73232f21530e740e75005b2b221e61142732361428351732442421242224232424306d24253057305c304b2426242724282429242a2054242b033d135f1429241e1e622b23241d241f242022530a3a1e631d5720553237142a142b142c242c341e1d58142d021f142e242d1e64351809640e760d880f73242e142f14300d891e651e662e78242f2430033e096521401431243124320a3b24330e77243424352e791e672e7a1e682d3f005c323820561e691c671d590a3c14322e7b2d403519143324360f722437233023311d5a1434341f2b242332233330122d4123343239143512432d420e781e6a2335033f323a342023360a3d1e6c351a005d1e6d334b08320e792d4323371e6e23382339233a233b0e7a0e7b233c1d5b2d441436233d0c800340334c1437233e1438143b02200a3e070b0a3f233f23402d451e6f2341abb2ed02ff3dadb360657659a38357db2fc39b384372fc9ea00000000000000073bf011a5813011a753a0859c5bc3c00a345e7c9a4a8ca2dbc22000000000000000200000002630400f608582c025b9f9730924423db96a92f84fca910ab1768f86140c83d774cc8eafd1b140b369380a591a665fd25144c8b9a596a552fb184b9bf7b45f10fa502550c0ae3b78c3edff415ffb5c10dad8e2e7195b395989847173869606b74e41029446c8a7b8900b04558c618ef4975c9c8eb21cc688a73ecf8cc363dd0e307a97ee1e8cc3eed6a68027d9744ca8e97a2263f7b2e870f61d0f8ac4212a8b36e4718d62e4c3add4d0124a030c81443d4e7bc44c502577df3f6850a8520bdbaf3edc944c54bee88186df30825e630f15a2957d113c99f9e4d6275e391decd5f597f9513e20aafac8483a558510c214aa3e4dce742ce81bc18ded6039f8c2f96b6c463a4a89aa1d2ac52a76bdfb4a3f20ae90090624d82c8f7ef41fd9e6e916bb9e4edd042ca8338d29239630d74fdd2948d2e5d3f1292a8b2a6920adaab9bf414a1ef885a1ac1696f0f7426c6190c75fcd3780ec63b92ceca76c265e96018d3e4539291bd5d5a2d7ca935a8bc3cb7185554b39aa53a6adfee86cd089f3c2ccc7498e8ea6b5623';

let raw4 = '0110fd0a18fe020000206752c37d18f26f68713a0be1474ba8ef671de5056bccb4010000000000000000ed3f08593e1b02188e92139d331bc2d9896c74450e04ed29da544e35a1dec1453bdeebaa030000000000000031035716072cfabe6d6dc965b6638ad59cfa20e2420978db0a232886eb7df373d91bf65c94dbbcd917af0400000000000000940f6846afc5c4b7297e5c032550c4655f24b5455d44a060966b8f5700000000000000103b598852fb4a907b8a192009a278bf4fc7f2acedf13a25c912345489fe0ce50cc4fd8914796da2e722e53820264171fead4f09bd34cd81ac82e9e799d5619b8bb6aa01f0d1083f6eb8a623636fc15b86ab6cce0781d9ea28af3474ff4ecf20c92f636c480b546ff8b0068f2c292298812c17eb7a9d1a1800459f2be86f1f2323fabba11711d3c6ca25a7aeec392d9284787e54d62228001429a538c3abf28e6c23e01edb784d42c745fc0001cddeaf08fa1882231bb8c0513ae9934cd6a8f5658e6c9a37395efd2934ee98795d2d18703c5d84f254fec8c6f302d0f4c0580de1e04e59365f0f8de46555f77dcb5864cd67e67fce71c465fa0689b5018756d977b06db10261d90f741a199ec1bd0bb53439d20cf64808abeb9b3e01491411ed9edec3f14880413102f4fd0738c335a6fcd5cbe7fd0516e37a5cc7e58e6019bfb80a38b47dec717ec98d14c06e2ded25536813219298060e978c0622d641c2937182b8da09bab078eca3507e168b46f3eef6ae4c08eb44518f96894246de7efc2a37adff83c45586a6268e3c4e3eb1fde13796d95e3cfba671ad383a8554aca17db05d8ad8e166af628dc4defa7fde9c8bb580385a83854ad8be62ad06957185317c9ad47976da680231249f46f56ce0d35316c0eddffbfb279e3b29f87fe7eeda03d0d2c9480065853cfe77fb72997e9aed74d2a4b5a152be6490ea5ac0746904e1974de9c6da90a759eeb52cc70765c28b3481dc8e56418a1627823d2bf51128551bc72617fc73f1740578239d840e7c78ad0869756b0bf11bc8cd0a22e728a7fe2426e96def825f5c4257e0135b189f0d8922e68fd1cf6a5ce0fcd19dac537ecc33a81eef9947d72fdbe27e190b787474636449f66a47b01ea006d1ae912160f9885e1dcd5ec827dd6873143b594a038916f9ae3be007396a1fd9db45ea867517ab87d4213d1ffd236eef792a272f4a95752de5669a2800d9c28400464c5a82cf2653ce167b384b4ba324cc40e0db4b1419e5efc50fc19fb39a9a9a456c65b14961c16d86bfe974ac7acc2a8438c4ce392a061027a85a3bc27e74be4a56cb51c1802cf7ef73272e2b0d04365dc456cf1b6601ff9c99104a7382c2762700262a878c9e3c3dc4e121cbf5f7e0750719b2ef0c19f7111d78f218fe30ab6c94c53356210f7d413952bc0684ce9794c0680c632bbcca8d6ead7bf39e16fdceb7d83936ab4cded005bd6dec0312e7ca9dfcd921c05c31e91f5dab25ad5e4b41dee2bf0d8747766f03a89716136bc6435d30280599b25544308f32c643477641f9ae7a0762f3e773d65102733d2e4ef4f65987f8c1e9b23f4aa787b1f976c433d437391820b9cfbe222d71649b62b202375533ee3132297e7d65c8d4bf1f9c6082416afdabd18dc77bfcf0f4ec38a9302817aaf47e38af3cf060a714cbf5d62ac66f991fad81b7fcbf357a4b33e207b74b313c8332afaab6ce0eb658ed981a1050a8edcb22c290ebc49f1e4b3d6d90ceee98508ed0a1c900ff68e6e83ff343f932af455c3bf1b8eb30d8ba10fa3ffd6b80a5821c74f69f2e54608d1e51ecf935d2ac864b5e7482a8a8999f23929c4fb5eafe518134218d3d214fc29f09d78e39821f6c0d75214c93c683d5f53214338093001743d49aa054fad381f0bdabb75d1b6aa607c9b72354ef56ce2d3c9db93efa4d484d8330f8233780effa87cc16f0d7da3f28650fb3b73dc69d59bdc6944f9beb050040629aa67b2d4e8e3f73bdf9065a703e98faeb835eaa883798e8743b077f40805fa50f6f62674f987a676507fb0b5087a7f2aac8f304219e307e9c1a19ecab50d2de0004543816ce80d0c3bd2f6bde5e303af9211e001cea99e442d15f353a6cf40f3e0ac78d1bc2d5e8e6ad2f8f018eb122389f91e1c9108cae54c2f2328ebfbbe7a4d2661201457cbcb6be633c2418ed394f2d4949b2b08aaae7f17bae56ee62bffe301720eb3c87399926c7b5dad97abdf3a4d805c2022bdf728aeb8a15c67369e4294b9e679f89eb1dee330a0f89db41b493d3aa9b23822dcf0d9a6588b4383d84b5f6207c6f020e2d77b32478f428e2de86e645779908382102032549698680fdec1b99026fb4c3d10da764c46d93389853ab3c6e51abbe5113348904dea0ff719b18737f43843ea22bf872f6794bb060b812b43570f1eb08affa8f86db2d364cf544f8bf86d4edf54e97d7b1f95589eea76ebd164461c1545fc9a878f8f8334aff566329f30eb97118df62788e47f56bb92ad3e2b1cdab337922f60b26851f9474e10007bef61a7777687c8ef20f2e34d813c1b18a8a1460e5883f0194c288484e68dae5fd0378b65fa29a88a518cb96616f71570a1abd2f3b6faa3cdc06386a9eb06ae44b3f1a014d84785b4958acc10e6e53302461db880429108b53237595ed62c2eb46f8a8b6dcf0456cabb0ba7ff95411b48cb9973dc0ca917c0734ddfd7a170abe89be5d4a8b1840ab909c211d99c54aaff7be7152e523689f69d6bc35af7ba767cb8c253fbcf6a5c6cebbc9b165f0a7dcbc9724e8e73e0543a566244f4cdda85c5324a305fce2cf50469f758985ceee1b7a249af55ee54cc021abd10dfc51b825fe2814b267328553ab1e991745090b14e04f5a670e7215eb6fa684df7e8da95e43ededef3430d33400fd190721002101140021020f001200120111000e000e01110112021203120412051206120712081209120a120b120c120d120e1e001a001e012000121f0d00120f12101211121220031e022001121320021214200412151216121712182005130020091219121a2006121b121c2007121d121e20080700200a0a000d01200b200c1220122112221223122412251226122712281229122a122b122c122d0d020d030d040d050d060d070d080d090d0a12c50d0b0d0c0d0d200d200e200f201020112012201320581e031e041e051e061e071e081e091e0a1e0b1e0c1e0d1e0e122e122f1230123112321233123412351236123712381239123a123b123c204e0b000b012053070107020a010a020a030a040a050a060a070a080a090a0a0a0b0a0c0a0d0a0e20501e0f1e101e111e121e131e141e15123d123e204f08000801080208032055080408050806080708080809080a080b080c1e161e171e181e191e1a123f124012411242124312441245204d080d080e080f08100811081208130814201420152016201720182019201a201b201c201d201e201f202020212022202320242025202620270c350b020b030b040b050b060b070b080b090b0a0b0b07030704202820291e1b1e1c202a202b202c202d1246124712481249124a124b124c124d124e124f1e1d1e1e1e1f1e201e211e221e231e241e251e261e271e281e291e2a1e2b1e2c1e2d1e2e20590a0f0a100a110a120a13202e202f2030203120561e2f1e301e31070507061e321e33205108151250125112521253125412551256125712581259125a125b125c125d125e125f12601e341e351e361e371e381e391e3a1e3b1e3c1e3d1e3e1e3f1e401e411e420b0c0b0d0b0e0b0f0b100b110b120b130b140b150b160b170b180816081708180819081a081b081c081d081e081f0820082108220b190b1a0b1b0b1c0b1d0b1e0b1f0b200b210a140a150a160a170a180a190a1a0a1b0a1c205a1e431e441e451e461e471e481e491e4a0823082408250826082708280829082a082b1ea21ea31ea41ea51ea61ea71d00070707080709070a070b070c070d070e070f0710071107120713071407150600060120541e4b1e4c1e4d1e4e1e4f1e501e511e521e5320571e541e551e561e5720521e581e591e5a1e5b1e5c1e5d1e5e1e5f1e601e611e621e631e641e65126112621263126412651e661e671e681e691e6a1e6b1e6c1e6d1e6e1e6f1e701e711e720716071707180719071a071b071c071d071e071f072007210722072307240725203220332034203520362037203820391e731e741e751e761e771e781e791e7a1e7b1e7c1e7d1e7e1e7f1e801e811e821e831e841e851e861e871e881e891e8a1e8b1e8c1e8d1e8e1e8f1e901e911e92082c082d082e082f08300831083208330834084c084d084e084f0850085508560726072707280729072a072b12c10c060c070c080c090c0a0c0b0c0c0c0d0c0e0c0f0c100c110c120c130c140c150c160c170c180c190c1a0c1b0b220b23129f12a012a112a212a312bc12bd12c30c000c010c020c030c040c051266126712681269126a126b1d011d021d031d041d051d061d071d081d091d0a1d0b1d0c126c126d126e126f1270127112721273127412751276127712781279127a1e931e941e951e961e971e981e991e9a1e9b1e9c1e9d1e9e1e9f1ea01ea10a1d0a1e0a1f127b127c127d1301130213031d0d1d0e1d0f0d0e0d0f0d101ea81ea91eaa1eab1eac1ead1eae1eaf1eb01eb1203a203b203c203d203e203f204020412042204320442045204620471eb21eb31eb41eb51eb61eb71eb81eb91eba1ebb129a129b129c129d129e12c40d110d120d130d140d150d160d170d181ebc1ebd1ebe1ebf1ec01ec11ec20d220d230d250d260c1c0c1d0c1e0c1f0c200c210c220c230c240c250c260c270c280c290c2a0c2b0c2c127e127f128012811d101d111d121d131d141d151d161d171d1813041305130613071308130908350836083708380839083a083b083c083d083e083f0840084108420843084408450846084712821283128412851286128712881289128a128b128c128d128e128f12901d191d1a1d1b1d1c1d1d1d1e1d1f1d201d211d221d53130a1ec31ec41ec51ec61ec71ec81ec91eca08480849084a084b0c2d0c2e0c2f0c300c310c320c330c3412911292129312941ecb1ecc1ecd1ece130b130c130d130e130f13101311131213131319131b131c131d129512961297129812990d190d1a0d1b0d1c0d1d0d1e0d1f0d200d2120482049204a204b204c1d231d241d251d261d271d281d291d2a1d2b1d2c1d2d1d2e1d2f1d301d311d3212a412a512a612a712a812a9205b12aa12ab12ac12ad12ae12af12b01ecf1d331d341d351d361d371d381d390a200a210a220a230a240a250a260a270a280b240b250b260a290a2a0a2b0a2c0a2d0a2e0a2f0a300a311d3a1d3b1d3c1d3d1d3e1d3f1d401d411d421d431d441d451d461d470a320a330a3412b11d4812b206020603085108521d49072c0a3512b30d240a361d4a1d4b12b412b51d4c12b61d4d0604060506061314131513161317131812b712b81d4e1d4f12b912ba085308540a371d5012bb072d1d511d5212be12bf0a380a39072e072f131a1d541d551d5612c01d570d2708571d58085812c21d5912c61800131e17001d5a0a3a1600020016011701131f210300000f010e0217020a3b21041d5b06071d5c03001b0013201d5d2105170312c7020112c8000104001d5e10000d280d291d5f0c36040100021d60085921060003085a1d611001205c1705140112c90d2a0b27170414020f020c3713210202150113221803111e085d010000041d621b011c0000050b2800061b0202030730170611021b030b2900071707085b0402085c12ca132304030d2b1b04020404041b0512cb140317081709170a1b061b071b08170b110313241104170c110516021b0921071b0a205d03011b0b01011b0c00081106110700091325160313260405210821091b0d1108170d16040a3c1404000a1b0e0e03205e000b1b0f085e020511091b1013270e04210a1605040601021b1113280206110a0407085f0207000c205f1b121b1302080a3d170e170f000d1b141b151b5003021b511b520303000e1b16110b0a3e110c1b171b180209110d0e0504081405020a1b190f03132901031b1a1b1b1b1c1b1d0104000f0f0416061b1e1b1f1b201607040917101b2103041b221711020b110e110f171200101b231110210b1111111208601b241b25111316080a3f020c020d11141b261b27020e1b28086108621b2900111b2a0c381b2b00121b2c0f05020f11151b2d171300130210040a0e06150016090d2c111620601b2e171417151b2f1b3017161b311b320d2d08631b3307310e07111700141b34160a03050e081b350b2a040b0e091406021100150b2b1b3607321b37040c111817171b380d2e111908641b3903060a401b3a160b171814072061040d17191b3b171a1b3c0e0a0e0b0212160c0213111a08651b3d1b3e00161b3f0d2f20621b40086602140e0c0215132a040e1b410e0d171b1b42171c0867171d0017180108681b43160d086920630018206400191b441b45040f0e0e210c111b1b46210d132b1b471b481b491b4a0a41171e171f0105132c111c14081b4b1b4c210e04100f061b4d02160e0f14091b4e1b4f1502111d0f0718020307206521221720132d1b5320661b54021702180e101b551a011b560a4203080b2c0608172103091b571b581b590411210f07331a02132e17220b2d132f20670e111a03001a111f1120001b1b5a1a041723021917242068041211210413160e15031504211017251a05172621111a060c390e120c3a1a071a08021a0c3b160f030a11220b2e133021120e13140a001c2069211316100a43001d001e0a44206a086a1a091a0a1a0b206b112304141331021b001f21141611133215050e14206c0d301a0c0734206d133311241125112606091a0d0e151127021c0e16206e21151128086b1a0e00200d311002140b1a0f1a101a11172717280021140c1a15172916121613133413350a4500221a121129112a172a0d32002304151a1301061804172b0c3c0d33206f0e17172c1a14112b086c041607351a16041704180a461a17112c060a0024112d010720701a181a190419041a172d112e00252071086d172e172f021d0026021e1a1a0027086e1506021f1a1b041b161416151616112f041c11301a1c1a1d20722073041d1a25173020741a1e1731133613371a1f1a201a211a220220173221161a23211717332118030b022102220e1802230c3d0e191805133817341339140d16171a2417351618002800290e1a1a26041e1736002a060b17371a27060c20751131133a133b207602240736002b086f133c1132041f1a2816191738042021191133002c02251a29002d1a2a002e17391a2b0421161a002f1a2c1a2d08701a2e133e003020770a471a2f133d0871173a161b0e1b02261a301a3108721a3207371a3300310032030c1a34173b15071a3502270d3408731a360e1c08740a4804221508003300340e1d0c3e0e1e04230a490035140e173c133f211a1a370e1f0d350c3f0e200e21042420781134113511361137113800361a381a391a3a0a4a0875042504260d36207911391a3b02280229161c0d3707380d3808760b2f0037113a0e22113b1a3c0b30060d030d211b022a042708770e23113c0428113d113e022b173d1a3d113f022c161d022d1340211c0878114011410c401a3e04290879087a087b207a087c0e24087d087e087f088013411a3f1a40022e042a173e0d3913421a41173f1740042b17411a42161e0038042c17421743010800391509161f207b17442b082b091a43207c207d207e08811745114216201a441a4517461a461747211d0109150a022f1a4702300d3a17480882088302311749174a0d3b08840d3c207f1a4802320885174b0886174c08870888042d088913430c410d3d042e174d0a4b174e174f088a042f088b088c1621030e1750211e030f003a3ed6336b080a8348e10f6a8672c7370d50d4453e5ab43e4b01000000000000002ea6011aa1120e19f33f0859f7bc3c00e695faa1ead9aa2cbd220000000000000028000000eb9704408602c0833c309af6b9cb71424986ac2e7499495d46b3516a6479ec18894e5decfd1b140b87c7e257c5d028093e3e61e8dce7cd6592952548d1e81f2d5f2770cf6f8aa57ab54444106b904933e34052465ebd1df8cc75ac94c23e5e41420289b900650f14e6e77f648658b499097f6a8566f934c9bc47d7b3fc6db35f433861d18eb04ade8a7c80430d21b734014af36bd548c92d25f08f7dd716a5cffc810a85159cd1bb2232e94f325bde716f4c1e5c6fa2e6d64bc349005d0be8df645983220cc3ba9e1bcfcc9f6035c481c778d7f4bffe639081ffeaa5581e6ee6a4c65c7e18b9a3671e663da79e5022e5985e3ad6bf468c100bf2b226f203ead22ea63f25ea1dbe7de59ef322dd7d1c9ffda047bee64161cc8827863d8b4feac980991f6d328118b22d2b3f3e3cca299ffbc62decb0cae89a08db1bcc76836715b6523bdbe15728e539fb65164241784ca9636effdbfb228ca8063d5cc0c2cab09a82ea264c50ef6329033c1a44a29e830a8b7dcc8783789ae59b274424e74bec5617eed94c7a216d';
// test();
function testShares() {
    BaseShare.IDENTIFIER = Bitcoin.IDENTIFIER;
    BaseShare.PowFunc = Utils.sha256d;
    BaseShare.MAX_TARGET = 2 ** 256 / 2 ** 32 - 1;
    // let str = BufferWriter.writeVarString('6a28' + '0000000000000000000000000000000000000000000000000000000000000000' + '0000000000000000', 'hex');

    // let array = str.take(3).toArray();
    // let array2 = str.slice(0, 3);
    // let s = Shares.fromBuffer(Buffer.from(shares, 'hex'));
    // let hs = s.toBuffer().toString('hex');
    // assert.equal(hs, shares);
    // console.log(hs == shares);
    let binary = Buffer.from(raw4, 'hex');

    let shares = Shares.fromBuffer(binary);
    let share = shares.shares.first().contents;

    winston.log('info', BigNum.fromBuffer(Utils.uint256BufferFromHash(share.hash)));

    winston.info(BigNum.fromBuffer(Buffer.from('0000000000000079fff9faf2e28f1a87bc8818599acdfc129d5691b75799829f', 'hex')).toNumber());
    let peer = new Peer({ port: 11223 });
    peer.handleShares(new Node(), shares.shares);
    // fs.writeFileSync('/tmp/bad_shares', binary);
}

testShares();